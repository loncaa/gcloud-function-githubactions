name: GitHub Actions Gcloud Function Deploy
run-name: ${{ github.actor }} is deploying Gcloud Function ðŸš€
on:
  push:
    branches:
      - main
jobs:
  job_id:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      id-token: write

    steps:
    - uses: actions/checkout@v3

    - name: 'Enable Initial Services'
      id: 'init'
      env:
        GITHUB_SHA_SHORT: ${{ vars.GITHUB_SHA_SHORT }}
      if: ${{ env.GITHUB_SHA_SHORT == '' }} 
      run: echo "GITHUB_SHA_SHORT=$(echo $GITHUB_SHA | cut -c 1-6)" >> $GITHUB_ENV

    - name: 'GITHUB_SHA_SHORT echo'
      id: 'init'
      env:
        GITHUB_SHA_SHORT: ${{ vars.GITHUB_SHA_SHORT }}
      run: echo $GITHUB_SHA_SHORT

